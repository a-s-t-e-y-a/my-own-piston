#!/usr/bin/env bash

# Compile Java with JSON library support
filename=$1
if [[ $filename != *.java ]]; then
    mv "$filename" "$filename.java"
    filename="$filename.java"
fi

# Use the package directory path directly
PKGDIR=${PISTON_PKGDIR:-/piston/packages/java/15.0.2}
javac -cp "/usr/share/java/*:$PKGDIR/lib/json/*:." "$filename"